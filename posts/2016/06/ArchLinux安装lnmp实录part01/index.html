<!doctype html>
<html lang="zh">
<head>
<title>ArchLinux安装lnmp实录part01</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, maximum-scale=1">
<meta name="description" content="">
<meta name="author" content="pcwuyu">

<link rel="shortcut icon" href="/images/favicon.ico">

<link href="/theme/css/monokai_sublime.css" rel="stylesheet" type="text/css">
<link href="/theme/css/bootstrap.css" rel="stylesheet" type="text/css">
<link href="/theme/css/style.css" rel="stylesheet" type="text/css">
<link href="/theme/css/font-awesome.css" rel="stylesheet" type="text/css">
<link href="/theme/css/responsive.css" rel="stylesheet" type="text/css">
<link href="/theme/css/animate.css" rel="stylesheet" type="text/css">

<!--[if IE]><style type="text/css">.pie {behavior:url(PIE.htc);}</style><![endif]-->

<script type="text/javascript" src="/theme/js/jquery.1.8.3.min.js"></script>
<script type="text/javascript" src="/theme/js/bootstrap.js"></script>
<script type="text/javascript" src="/theme/js/jquery-scrolltofixed.js"></script>
<script type="text/javascript" src="/theme/js/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="/theme/js/jquery.isotope.js"></script>
<script type="text/javascript" src="/theme/js/wow.js"></script>
<script type="text/javascript" src="/theme/js/classie.js"></script>
<script type="text/javascript" src="/theme/js/highlight.pack.js"></script>
<script type="text/javascript">
$(document).ready(function() {
	$('pre').each(function(i, block) {
		hljs.highlightBlock(block);
	});
});
</script>

<!--[if lt IE 9]>
	<script src="/js/respond-1.1.0.min.js"></script>
	<script src="/js/html5shiv.js"></script>
	<script src="/js/html5element.js"></script>
<![endif]-->


</head>
<body>

<nav class="main-nav-outer" id="test"><!--main-nav-start-->
	<div class="container">
		<ul class="main-nav">
			<li><a href="/">Home</a></li>


			<li class="small-logo"><i class="fa-tree"></i>

			
			
		</ul>
		<a class="res-nav_click" href="#"><i class="fa-bars"></i></a>
	</div>
</nav><!--main-nav-end-->

<section class="main-section" id="service"><!--main-section-start-->
	<div class="container">
		<div class="row">
			
<div class="col-lg-3 col-sm-3 col-md-3 col-xs-12 wow fadeInLeft delay-05s">
	<div class="service-list">
		<div class="service-list-col1">
			<i class="fa-paw"></i>
		</div>
		<div class="service-list-col2">
			<h3>Pages</h3>
			<p>
				<a href="/">Home</a><br/>

			</p>
		</div>
	</div>
	
	<div class="service-list">
		<div class="service-list-col1">
			<i class="fa-pagelines"></i>
		</div>
		<div class="service-list-col2">
			<h3>Categories</h3>
			<p>
					<a href="/category/vps.html">vps</a><br/>
			</p>
		</div>
	</div>
	
	<div class="service-list">
		<div class="service-list-col1">
			<i class="fa-tags"></i>
		</div>
		<div class="service-list-col2">
			<h3>Tags</h3>
			<p>
					<a href="/tag/markdown.html">Markdown</a>
					<a href="/tag/github.html">GitHub</a>
					<a href="/tag/python.html">Python</a>
					<a href="/tag/archlinux.html">archlinux</a>
					<a href="/tag/pelican.html">Pelican</a>
					<a href="/tag/vps.html">vps</a>
			</p>
		</div>
	</div>
	
	<div class="service-list">
		<div class="service-list-col1">
			<i class="fa-link"></i>
		</div>
		<div class="service-list-col2">
			<h3>Links</h3>
			<p>
					<a href="http://blog.pcwuyu.com/">PC物语</a><br/>
					<a href="http://python.org/">Python.org</a><br/>
			</p>
		</div>
	</div>
	
	<div class="service-list">
		<div class="service-list-col1">
			<i class="fa-facebook-square"></i>
		</div>
		<div class="service-list-col2">
			<h3>Social</h3>
			<p>
					<a href="https://twitter.com/pcwuyu">Twitter</a><br/>
					<a href="http://facebook.com/pcwuyu">facebook</a><br/>
			</p>
		</div>
	</div>
</div>
			<figure class="col-lg-9 col-sm-6  text-left wow fadeInUp delay-02s">
				<div class="post">                        
					<a href="/posts/2016/06/ArchLinux安装lnmp实录part01/" rel="bookmark"
						title="Permalink to ArchLinux安装lnmp实录part01"
						style="color:black; text-align:center">
						<h1>ArchLinux安装lnmp实录part01</h1>
					</a>
					

					<span  title="2016-06-28T00:00:00+02:00">2016-06-28(Tue)</span><br/>        
					
					<span class="posted-by">By 
						<a href="/author/pcwuyu.html">
							pcwuyu
						</a>
					</span>
   

					<div class="entry-content2">
						<h1>1 安装Archlinux</h1>
<ul>
<li>1.1 脚本：将任意os切换为ArchLinux：<a href="https://github.com/drizzt/vps2arch">vps2arch</a></li>
<li>1.2 用法：</li>
<li>1.2.1 安装screen</li>
</ul>
<p>centos：</p>
<div class="highlight"><pre><span></span>yum -y install screen
</pre></div>


<p>debian/ubuntu: </p>
<div class="highlight"><pre><span></span>apt-get install screen
</pre></div>


<ul>
<li>1.2.2 创建screen</li>
</ul>
<div class="highlight"><pre><span></span>screen -S vps2arch
</pre></div>


<ul>
<li>1.2.3 安装vps2arch</li>
</ul>
<div class="highlight"><pre><span></span>wget http://git.io/vps2arch
chmod +x vps2arch
./vps2arch
</pre></div>


<ul>
<li>1.2.4 重启vps</li>
</ul>
<div class="highlight"><pre><span></span>sync <span class="p">;</span> reboot -f
</pre></div>


<ul>
<li>1.2.5 重新ssh连接vps：用户为root，端口为22，密码为之前vps系统里的密码</li>
</ul>
<h1>2 ArchLinux的配置</h1>
<ul>
<li>2.1 更新root用户密码</li>
</ul>
<div class="highlight"><pre><span></span>passwd root
</pre></div>


<ul>
<li>2.2 更新系统</li>
</ul>
<div class="highlight"><pre><span></span>pacman -Syyu
</pre></div>


<ul>
<li>2.3 安装常用软件</li>
</ul>
<div class="highlight"><pre><span></span>pacman -S base-devel screen git gcc python python2 vim zsh yaourt wqy-microhei archlinuxcn-keyring 
</pre></div>


<p>安装python pip</p>
<div class="highlight"><pre><span></span>curl -O https://bootstrap.pypa.io/get-pip.py
python get-pip.py
python2 get-pip.py
</pre></div>


<p>查看Python版本</p>
<div class="highlight"><pre><span></span>python -V
---
Python 3.5.1
</pre></div>


<div class="highlight"><pre><span></span>python2 -V
---
Python 2.7.11
</pre></div>


<ul>
<li>2.4 切换bash为zsh，并使用Oh My Zsh配置</li>
</ul>
<div class="highlight"><pre><span></span>sh -c <span class="s2">&quot;</span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>


<ul>
<li>2.5 添加源，并启用AUR</li>
</ul>
<div class="highlight"><pre><span></span>vim /etc/pacman.conf
---
添加
<span class="o">[</span>archlinuxfr<span class="o">]</span>
<span class="nv">SigLevel</span> <span class="o">=</span> Never
<span class="nv">Server</span> <span class="o">=</span> http://repo.archlinux.fr/<span class="nv">$arch</span>

<span class="o">[</span>archlinuxcn<span class="o">]</span>
<span class="nv">SigLevel</span> <span class="o">=</span> Optional TrustedOnly
<span class="nv">Server</span> <span class="o">=</span> http://repo.archlinuxcn.org/<span class="nv">$arch</span>
</pre></div>


<p>安装 yaour t以及 "archlinuxcn-keyring" 钥匙环</p>
<div class="highlight"><pre><span></span>pacman -Sy yaourt archlinuxcn-keyring
</pre></div>


<ul>
<li>2.6 本地化设置</li>
</ul>
<div class="highlight"><pre><span></span>vim  /etc/locale.gen
---
en_US.UTF-8 UTF-8
zh_CN.UTF-8 UTF-8
zh_TW.UTF-8 UTF-8
</pre></div>


<p>执行locale-gen以生成locale讯息:</p>
<div class="highlight"><pre><span></span>locale-gen
---
Generating locales...
  en_US.UTF-8... <span class="k">done</span>
  zh_CN.UTF-8... <span class="k">done</span>
  zh_TW.UTF-8... <span class="k">done</span>
Generation complete.
</pre></div>


<p>设置时间：</p>
<div class="highlight"><pre><span></span>ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</pre></div>


<ul>
<li>2.7 修改ssh端口号</li>
</ul>
<div class="highlight"><pre><span></span>vim /etc/ssh/sshd_config
---
取消Port前的#注释，并将端口22改成1024到65535的数字
</pre></div>


<ul>
<li>2.8 安装 <a href="https://nodequery.com/">Nodequery</a>，监控系统状态</li>
</ul>
					</div>

					<div class="post-tags">
							<i class="fa-tags"></i>
							<a href="/tag/vps.html">vps</a>
							<a href="/tag/archlinux.html">archlinux</a>
					</div>   
				</div>  

			</figure>
		</div>
	</div>
</section><!--main-section-end-->

<footer class="footer">
	<div class="container">
		<div class="footer-logo"><i class="fa-tree"></i></div>
		<span class="copyright">Copyright © 2016 By <a href="">Ellery</a>.</span>
	</div>
</footer> 

<script type="text/javascript">
	$(document).ready(function(e) {
		$('#test').scrollToFixed();
		$('.res-nav_click').click(function(){
			$('.main-nav').slideToggle();
			return false 
		});
	});
</script>

<script>
	wow = new WOW({
		animateClass: 'animated',
		offset: 100
	});
	wow.init();
	// document.getElementById('').onclick = function() {
	// 	var section = document.createElement('section');
	// 	section.className = 'wow fadeInDown';
	// 	this.parentNode.insertBefore(section, this);
	// };
</script>
</body>
</html>